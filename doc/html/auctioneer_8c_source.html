<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Progetto SO: src/auctioneer.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Progetto SO
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('auctioneer_8c_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">auctioneer.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="auctioneer_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;sys/types.h&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;sys/sem.h&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;sys/ipc.h&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="resource_8h.html">resource.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="config_8h.html">config.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tao_8h.html">tao.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="semaphore_8h.html">semaphore.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="introduction_8h.html">messages/introduction.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="simple__message_8h.html">messages/simple_message.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tao__opening_8h.html">messages/tao_opening.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="auctioneer_8c.html#a0240ac851181b84ac374872dc5434ee4">   20</a></span>&#160;<span class="preprocessor">#define N 20                        </span><span class="comment">/* Size of &quot;an array&quot; */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="auctioneer_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>;                   <span class="comment">/* Externally declared (by kernel) */</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// mai in sleep</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="struct__client.html">   26</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__client.html">_client</a> {</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="struct__client.html#a87f9cbda197595c49572e21179cbb96b">   27</a></span>&#160;    pid_t <a class="code" href="struct__client.html#a87f9cbda197595c49572e21179cbb96b">client_pid</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="struct__client.html#a13e34ca094fd008b62127d67da11f70f">   28</a></span>&#160;    <a class="code" href="struct__resource.html">resource</a> <a class="code" href="struct__client.html#a13e34ca094fd008b62127d67da11f70f">interested_resource</a>[<a class="code" href="config_8h.html#ac91a1136ceadea84c7e339eddd81bd3b">MAX_REQUIRED_RESOURCES</a>];</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;} <a class="code" href="auctioneer_8c.html#a40a2aa757613197641799da6397899d0">client</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="auctioneer_8c.html#ae73e6a837794db6e63f23db2d64a8130">   31</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="auctioneer_8c.html#ae73e6a837794db6e63f23db2d64a8130">msqid</a> = 0;                       <span class="comment">/* The id of the message queue */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="auctioneer_8c.html#a7c35ac5305085cf7360645b8d52988b5">   32</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="auctioneer_8c.html#a7c35ac5305085cf7360645b8d52988b5">semid</a>;                           <span class="comment">/* The id of the the TAOs creation semaphore */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="auctioneer_8c.html#a5339137d29dbc796af687ee05ebcd051">   33</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="auctioneer_8c.html#a5339137d29dbc796af687ee05ebcd051">opened_auctions</a> = 0;             <span class="comment">/* The number of opened auctions */</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="auctioneer_8c.html#a58c76123e51d8f4fd2008f9ff7c19c94">   35</a></span>&#160;<a class="code" href="struct__resource__list.html">resource_list</a>* <a class="code" href="auctioneer_8c.html#a58c76123e51d8f4fd2008f9ff7c19c94">avail_resources</a>;      <span class="comment">/* The list containing all the available resources */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="auctioneer_8c.html#a3f25d71644fc32e1451507b43373a2b7">   36</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="auctioneer_8c.html#a3f25d71644fc32e1451507b43373a2b7">avail_resources_count</a>;           <span class="comment">/* The number of all the available resources */</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="auctioneer_8c.html#ac525b5128fa344663e486b8800b199e9">   38</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="auctioneer_8c.html#ac525b5128fa344663e486b8800b199e9">registered_clients</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="auctioneer_8c.html#a763ff0ef94dcef0ff182afe34802ca84">   39</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="auctioneer_8c.html#a763ff0ef94dcef0ff182afe34802ca84">canexit</a> = 0;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="client_8h.html#a5d47b1fd9e013a1edc6686004379fcc1">   42</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="auctioneer_8c.html#a5d47b1fd9e013a1edc6686004379fcc1">load_resources</a>(){</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    FILE* resources;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">char</span> line[<a class="code" href="config_8h.html#aaa7bd013b2ed70755bc3253ecf704e46">MAX_RES_NAME_LENGTH</a>];</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordtype">char</span>* name;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordtype">char</span>* tmp;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordtype">char</span>* token;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">int</span> avail = 0, cost = 0, i = 0, resourcesNumber = 0;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="auctioneer_8c.html#a3f25d71644fc32e1451507b43373a2b7">avail_resources_count</a> = 0;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    avail_resources = (<a class="code" href="struct__resource__list.html">resource_list</a>*) malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct__resource__list.html">resource_list</a>));</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    resources = fopen(<span class="stringliteral">&quot;../resource.txt&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span>( resources != NULL ){</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="comment">/* Reads each line from file */</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">while</span>( fgets(line, <a class="code" href="config_8h.html#aaa7bd013b2ed70755bc3253ecf704e46">MAX_RES_NAME_LENGTH</a> + 32, resources) != NULL  &amp;&amp; line ){</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            token = strtok(line, <span class="stringliteral">&quot;;&quot;</span>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            i = 0;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            name = (<span class="keywordtype">char</span>*) malloc(<a class="code" href="config_8h.html#aaa7bd013b2ed70755bc3253ecf704e46">MAX_RES_NAME_LENGTH</a>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <span class="keywordflow">while</span>( token ){</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                <span class="comment">/* In each line there are 4 tokens: name, available, cost and \n */</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                <span class="keywordflow">switch</span>(i%4){</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                        strcat(token, <span class="stringliteral">&quot;\0&quot;</span>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                        strcpy(name, token);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                        tmp = token;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                        avail = atoi(tmp);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                        tmp = token;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                        cost = atoi(tmp);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                i++;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                token = strtok(NULL, <span class="stringliteral">&quot;;&quot;</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            printf(<span class="stringliteral">&quot;[auctioneer] Resource available: %s %d %d \n&quot;</span>, name, avail, cost);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <a class="code" href="auctioneer_8c.html#a3f25d71644fc32e1451507b43373a2b7">avail_resources_count</a>++;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <a class="code" href="resource_8c.html#a01c951e5bb0b3411b90e0e7216976e8e">add_resource</a>(avail_resources, name, avail, cost);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            fflush(stdout);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            free(name);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;[auctioneer] Error: Unable to open resource&#39;s file. %s\n&quot;</span>, strerror(<a class="code" href="auctioneer_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        fclose(resources);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="auctioneer_8h.html#ae704a472ef9a7fd86089c7e5d0e42091">   94</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="auctioneer_8c.html#ae704a472ef9a7fd86089c7e5d0e42091">create_taos</a>(){</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">/* creates tao&#39;s array with empty tao */</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="tao_8c.html#a92d83754f090ad184733cffaffabfd00">init_taos</a>(<a class="code" href="auctioneer_8c.html#a3f25d71644fc32e1451507b43373a2b7">avail_resources_count</a>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="struct__resource.html">resource</a>* tmp_resource = avail_resources-&gt;<a class="code" href="struct__resource__list.html#a7cc5a47e95fadc9eaf872a42d02cf90c">list</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">/* adds name&#39;s resource and common informations to each tao */</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">while</span>(tmp_resource){</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="tao_8c.html#a298aba9e3306c2868d12eba67062f84e">create_tao</a>(tmp_resource-&gt;<a class="code" href="struct__resource.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        tmp_resource = tmp_resource-&gt;<a class="code" href="struct__resource.html#a382de65deaad35618919e2db4447c087">next</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="auctioneer_8c.html#a9c994aa4c2f6aa17d2fbd3dff2506605">  110</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="auctioneer_8c.html#a9c994aa4c2f6aa17d2fbd3dff2506605">alarm_handler</a>() {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="so__log_8c.html#a0dad24c0c79309a7678f01af58a01ce9">so_log</a>(<span class="charliteral">&#39;c&#39;</span>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// clienti iniziano a fare le offerte = inizia l&#39;asta</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// tao che muore decrementa semaforo</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="auctioneer_8c.html#a763ff0ef94dcef0ff182afe34802ca84">canexit</a> = 0;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="auctioneer_8h.html#a55ac0f2283b54ed8005257b7009bab64">  121</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="auctioneer_8c.html#a55ac0f2283b54ed8005257b7009bab64">notify_tao_opened</a>(<span class="keywordtype">char</span>* name, <span class="keywordtype">int</span> shm_id, <span class="keywordtype">int</span> sem_id, <span class="keywordtype">int</span> base_bid){</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// [TODO] SEMAFORO PER LA SCRITTURA</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">for</span> (; i &lt; <a class="code" href="auctioneer_8c.html#ac525b5128fa344663e486b8800b199e9">registered_clients</a>; i++){</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">/* Allocates the simple_message message */</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="struct__tao__opening.html">tao_opening</a>* msg = (<a class="code" href="struct__tao__opening.html">tao_opening</a>*) malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct__tao__opening.html">tao_opening</a>));</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        msg-&gt;<a class="code" href="struct__tao__opening.html#aa3f836ce5342ead8107a83d39ba3569a">mtype</a> = <a class="code" href="tao__opening_8c.html#a6177d7ad4ff7a1270fe6dadd9a976462">TAO_OPENING_MTYPE</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        strcpy(msg-&gt;<a class="code" href="struct__tao__opening.html#a4eafec5889eb15977b61e2a6dcc8915f">resource</a>, name);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        msg-&gt;<a class="code" href="struct__tao__opening.html#ac8807d215d2ee6d9779d76aeb1147430">shmid</a> = shm_id;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        msg-&gt;<a class="code" href="struct__tao__opening.html#a7c35ac5305085cf7360645b8d52988b5">semid</a> = sem_id;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        msg-&gt;<a class="code" href="struct__tao__opening.html#a181eae0ba641491126ff92b6070b15ea">base_bid</a> = base_bid;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="comment">// strcpy(msg-&gt;content.s, tao_res);</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        msgsnd(<a class="code" href="auctioneer_8c.html#ae73e6a837794db6e63f23db2d64a8130">msqid</a>, msg, <span class="keyword">sizeof</span>(<a class="code" href="struct__tao__opening.html">tao_opening</a>) - <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>), 0600);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        free(msg);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="auctioneer_8h.html#a67b83250f57bba6e1e0529b59eb41152">  146</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="auctioneer_8c.html#a67b83250f57bba6e1e0529b59eb41152">listen_introductions</a>(){</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// [TODO] SEMAFORO PER LA LETTURA</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="struct__introduction.html">introduction</a>* intr = (<a class="code" href="struct__introduction.html">introduction</a>*) malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct__introduction.html">introduction</a>));</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="auctioneer_8c.html#ac525b5128fa344663e486b8800b199e9">registered_clients</a> = 0;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">while</span> ( (<a class="code" href="auctioneer_8c.html#ac525b5128fa344663e486b8800b199e9">registered_clients</a> &lt; <a class="code" href="config_8h.html#a0a8f91f93d75a07f0ae45077db45b3eb">MAX_CLIENTS</a>) &amp;&amp; (msgrcv(<a class="code" href="auctioneer_8c.html#ae73e6a837794db6e63f23db2d64a8130">msqid</a>, intr, <span class="keyword">sizeof</span>(<a class="code" href="struct__introduction.html">introduction</a>) - <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>), <a class="code" href="introduction_8c.html#a46caf069efbe8c4da1ee4ef5d08032c2">INTRODUCTION_MTYPE</a>, 0) != -1) ){</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="auctioneer_8c.html#ac525b5128fa344663e486b8800b199e9">registered_clients</a>++;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        printf(<span class="stringliteral">&quot;[auctioneer] Received auction partecipation request from pid %d\n&quot;</span>, intr-&gt;<a class="code" href="struct__introduction.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="comment">/* associates the pid&#39;s client to related tao, where there is the resource interested to client */</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">for</span> (; i &lt; intr-&gt;<a class="code" href="struct__introduction.html#aacd128b0f9760cbbd7f2f4c1d6d251ba">resources_length</a>; i++){</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <a class="code" href="tao_8c.html#ac1e519064c181a8f2c727e3e1bd4204b">register_client_to_tao</a>(intr-&gt;<a class="code" href="struct__introduction.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, intr-&gt;<a class="code" href="struct__introduction.html#a243e9c99b04ea5f7640d02182fc68a68">resources</a>[i]);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="comment">//printf(&quot;[auctioneer] Client with pid %d requested partecipation for resource %s\n&quot;, intr-&gt;pid, intr-&gt;resources[i]);</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    free(intr);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="auctioneer_8h.html#ab709799d4ee7e6491c7ce8c68b22fb1d">  167</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="auctioneer_8c.html#ab709799d4ee7e6491c7ce8c68b22fb1d">start_auction</a>(){</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">/* semaphore creation */</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="auctioneer_8c.html#a7c35ac5305085cf7360645b8d52988b5">semid</a> = semget(IPC_PRIVATE, 1, S_IRUSR | S_IWUSR);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="auctioneer_8c.html#a7c35ac5305085cf7360645b8d52988b5">semid</a> == -1)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        perror(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">/* semaphore regulation // CONTROLLARE I PARAMETRI */</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordtype">int</span> ctl = semctl(<a class="code" href="auctioneer_8c.html#a7c35ac5305085cf7360645b8d52988b5">semid</a>, 3, SETVAL, 1);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="struct__tao.html">tao</a>* current_tao;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">for</span>(; i &lt; <a class="code" href="auctioneer_8c.html#a3f25d71644fc32e1451507b43373a2b7">avail_resources_count</a> -4; i++){</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="comment">/* gets one tao from the array */</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        current_tao = <a class="code" href="tao_8c.html#a0d04a8a157a20352806132b7582ce616">get_tao</a>(i);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="comment">/* Associates each tao to an shm */</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="tao_8c.html#a250f30ea256eae24ac3b7ff47d085bbb">start_tao</a>(current_tao);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="comment">/* Increments semaphore, 0 = ignore flag */</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="semaphore_8c.html#aaa6f4dbc62d7b05e6e192a029b741843">sem_v</a>(<a class="code" href="auctioneer_8c.html#a7c35ac5305085cf7360645b8d52988b5">semid</a>, 0);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment">/* says to client starting tao */</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="auctioneer_8c.html#a55ac0f2283b54ed8005257b7009bab64">notify_tao_opened</a>(current_tao-&gt;<a class="code" href="struct__tao.html#ae14d065f4303ecca126916431adfd475">name</a>, current_tao-&gt;<a class="code" href="struct__tao.html#a0e18300528e54d436a8bce8f01238424">shm_id</a>, current_tao-&gt;<a class="code" href="struct__tao.html#a9825b926ad2a4aa0e6688dc15b2d9a23">sem_id</a> ,current_tao-&gt;<a class="code" href="struct__tao.html#a181eae0ba641491126ff92b6070b15ea">base_bid</a>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="comment">/* timer of 3 seconds before the start of auction */</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">if</span>(signal(SIGALRM, <a class="code" href="auctioneer_8c.html#a9c994aa4c2f6aa17d2fbd3dff2506605">alarm_handler</a>) == SIG_ERR){</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            printf(<span class="stringliteral">&quot;Error in alarm signal&quot;</span>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        alarm(3);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="client_8h.html#ad2504fc13f04edf582316950ab45f86d">  202</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="auctioneer_8c.html#ad2504fc13f04edf582316950ab45f86d">ipc_gc</a>(){</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">/* Removes the queue message */</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    msgctl(<a class="code" href="auctioneer_8c.html#ae73e6a837794db6e63f23db2d64a8130">msqid</a>, IPC_RMID,0);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">/* Removes the TAOS creation semaphor */</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// if(semctl(sem_id, 0, GETVAL, 0) == 0) {</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    semctl(<a class="code" href="auctioneer_8c.html#a7c35ac5305085cf7360645b8d52988b5">semid</a>, 0, IPC_RMID, 0);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">/* Removes all the TAOS access semaphor */</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">for</span> (i = 1; i &lt;= <a class="code" href="tao_8c.html#a10b6cee545f00e4cd383c5398911b86e">taos_count</a>; i++){              <span class="comment">/* Sem. 0 is the TAO creation one */</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        semctl(<a class="code" href="tao_8c.html#a91bf4e29a754f9957ef5586a6d3f7da6">tao_access_semid</a>, i, IPC_RMID, 0);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">/* Removes all the TAOS shared memory  */</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="tao_8c.html#a10b6cee545f00e4cd383c5398911b86e">taos_count</a>; i++){</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        shmctl(<a class="code" href="tao_8c.html#afd1663682b4ae526da5d46c1ca8c406b">taos</a>[i]-&gt;shm_id, IPC_RMID, 0);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="client_8h.html#a83706e696f5a5ee8b6d789cf08d64d73">  225</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="auctioneer_8c.html#a83706e696f5a5ee8b6d789cf08d64d73">gc</a>(){</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    free(avail_resources);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="main_8h.html#a3c04138a5bfe5d72780bb7e82a18e627">  231</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="auctioneer_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv){</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    printf(<span class="stringliteral">&quot;[auctioneer] Started auctioneer.\tPid: %d\tPPid: %d\n&quot;</span>, getpid(), getppid());</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span> (argc &gt;= 2 &amp;&amp; strcmp(argv[1], <span class="stringliteral">&quot;-m&quot;</span>) == 0){</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="auctioneer_8c.html#ae73e6a837794db6e63f23db2d64a8130">msqid</a> = atoi(argv[2]);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        fprintf(stdout, <span class="stringliteral">&quot;[auctioneer] Using message queue %d\n&quot;</span>, <a class="code" href="auctioneer_8c.html#ae73e6a837794db6e63f23db2d64a8130">msqid</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;[auctioneer] Error: msqid (-m) argument not valid.\n&quot;</span>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">/* Read resources from file */</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="auctioneer_8c.html#a5d47b1fd9e013a1edc6686004379fcc1">load_resources</a>();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">/* Create only the structure of all taos, without the client&#39;s list and relative bids */</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="auctioneer_8c.html#ae704a472ef9a7fd86089c7e5d0e42091">create_taos</a>();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="auctioneer_8c.html#a67b83250f57bba6e1e0529b59eb41152">listen_introductions</a>();</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">/* Start max 3 tao at a time */</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="auctioneer_8c.html#ab709799d4ee7e6491c7ce8c68b22fb1d">start_auction</a>();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="auctioneer_8c.html#a763ff0ef94dcef0ff182afe34802ca84">canexit</a> == 1) {}</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    fprintf(stdout, <span class="stringliteral">&quot;[auctioneer] \x1b[31mRemoving all the IPC structures... \x1b[0m \n&quot;</span>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="auctioneer_8c.html#ad2504fc13f04edf582316950ab45f86d">ipc_gc</a>();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    fprintf(stdout, <span class="stringliteral">&quot;[auctioneer] \x1b[31mCleaning heap... \x1b[0m \n&quot;</span>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="auctioneer_8c.html#a83706e696f5a5ee8b6d789cf08d64d73">gc</a>();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    fprintf(stdout, <span class="stringliteral">&quot;[auctioneer] \x1b[31mQuitting... \x1b[0m \n&quot;</span>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    fflush(stdout);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">/* because auctioneer is main&#39;s child */</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    _exit(EXIT_SUCCESS);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div>
<div class="ttc" id="struct__introduction_html"><div class="ttname"><a href="struct__introduction.html">_introduction</a></div><div class="ttdef"><b>Definition:</b> <a href="introduction_8c_source.html#l00007">introduction.c:7</a></div></div>
<div class="ttc" id="auctioneer_8c_html_ac525b5128fa344663e486b8800b199e9"><div class="ttname"><a href="auctioneer_8c.html#ac525b5128fa344663e486b8800b199e9">registered_clients</a></div><div class="ttdeci">int registered_clients</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00038">auctioneer.c:38</a></div></div>
<div class="ttc" id="auctioneer_8c_html_a3c04138a5bfe5d72780bb7e82a18e627"><div class="ttname"><a href="auctioneer_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a></div><div class="ttdeci">int main(int argc, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00231">auctioneer.c:231</a></div></div>
<div class="ttc" id="auctioneer_8c_html_a5339137d29dbc796af687ee05ebcd051"><div class="ttname"><a href="auctioneer_8c.html#a5339137d29dbc796af687ee05ebcd051">opened_auctions</a></div><div class="ttdeci">int opened_auctions</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00033">auctioneer.c:33</a></div></div>
<div class="ttc" id="tao_8c_html_a0d04a8a157a20352806132b7582ce616"><div class="ttname"><a href="tao_8c.html#a0d04a8a157a20352806132b7582ce616">get_tao</a></div><div class="ttdeci">tao * get_tao(int i)</div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00089">tao.c:89</a></div></div>
<div class="ttc" id="tao_8c_html_a10b6cee545f00e4cd383c5398911b86e"><div class="ttname"><a href="tao_8c.html#a10b6cee545f00e4cd383c5398911b86e">taos_count</a></div><div class="ttdeci">int taos_count</div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00056">tao.c:56</a></div></div>
<div class="ttc" id="tao_8c_html_a298aba9e3306c2868d12eba67062f84e"><div class="ttname"><a href="tao_8c.html#a298aba9e3306c2868d12eba67062f84e">create_tao</a></div><div class="ttdeci">void create_tao(char name[MAX_RES_NAME_LENGTH])</div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00074">tao.c:74</a></div></div>
<div class="ttc" id="struct__resource_html_a382de65deaad35618919e2db4447c087"><div class="ttname"><a href="struct__resource.html#a382de65deaad35618919e2db4447c087">_resource::next</a></div><div class="ttdeci">struct _resource * next</div><div class="ttdef"><b>Definition:</b> <a href="resource_8c_source.html#l00017">resource.c:17</a></div></div>
<div class="ttc" id="struct__tao__opening_html_a7c35ac5305085cf7360645b8d52988b5"><div class="ttname"><a href="struct__tao__opening.html#a7c35ac5305085cf7360645b8d52988b5">_tao_opening::semid</a></div><div class="ttdeci">int semid</div><div class="ttdef"><b>Definition:</b> <a href="tao__opening_8c_source.html#l00010">tao_opening.c:10</a></div></div>
<div class="ttc" id="auctioneer_8c_html_a3f25d71644fc32e1451507b43373a2b7"><div class="ttname"><a href="auctioneer_8c.html#a3f25d71644fc32e1451507b43373a2b7">avail_resources_count</a></div><div class="ttdeci">int avail_resources_count</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00036">auctioneer.c:36</a></div></div>
<div class="ttc" id="struct__tao__opening_html_a4eafec5889eb15977b61e2a6dcc8915f"><div class="ttname"><a href="struct__tao__opening.html#a4eafec5889eb15977b61e2a6dcc8915f">_tao_opening::resource</a></div><div class="ttdeci">char resource[MAX_RES_NAME_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="tao__opening_8c_source.html#l00008">tao_opening.c:8</a></div></div>
<div class="ttc" id="struct__introduction_html_a243e9c99b04ea5f7640d02182fc68a68"><div class="ttname"><a href="struct__introduction.html#a243e9c99b04ea5f7640d02182fc68a68">_introduction::resources</a></div><div class="ttdeci">char resources[MAX_REQUIRED_RESOURCES][MAX_RES_NAME_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="introduction_8c_source.html#l00010">introduction.c:10</a></div></div>
<div class="ttc" id="config_8h_html"><div class="ttname"><a href="config_8h.html">config.h</a></div></div>
<div class="ttc" id="struct__introduction_html_aacd128b0f9760cbbd7f2f4c1d6d251ba"><div class="ttname"><a href="struct__introduction.html#aacd128b0f9760cbbd7f2f4c1d6d251ba">_introduction::resources_length</a></div><div class="ttdeci">int resources_length</div><div class="ttdef"><b>Definition:</b> <a href="introduction_8c_source.html#l00011">introduction.c:11</a></div></div>
<div class="ttc" id="struct__introduction_html_ae0d46a978d5cd6707411f276ad869b9c"><div class="ttname"><a href="struct__introduction.html#ae0d46a978d5cd6707411f276ad869b9c">_introduction::pid</a></div><div class="ttdeci">pid_t pid</div><div class="ttdef"><b>Definition:</b> <a href="introduction_8c_source.html#l00009">introduction.c:9</a></div></div>
<div class="ttc" id="tao_8c_html_a250f30ea256eae24ac3b7ff47d085bbb"><div class="ttname"><a href="tao_8c.html#a250f30ea256eae24ac3b7ff47d085bbb">start_tao</a></div><div class="ttdeci">void start_tao(tao *current_tao)</div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00126">tao.c:126</a></div></div>
<div class="ttc" id="auctioneer_8c_html_a55ac0f2283b54ed8005257b7009bab64"><div class="ttname"><a href="auctioneer_8c.html#a55ac0f2283b54ed8005257b7009bab64">notify_tao_opened</a></div><div class="ttdeci">void notify_tao_opened(char *name, int shm_id, int sem_id, int base_bid)</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00121">auctioneer.c:121</a></div></div>
<div class="ttc" id="tao_8c_html_ac1e519064c181a8f2c727e3e1bd4204b"><div class="ttname"><a href="tao_8c.html#ac1e519064c181a8f2c727e3e1bd4204b">register_client_to_tao</a></div><div class="ttdeci">void register_client_to_tao(pid_t pid, char name[MAX_RES_NAME_LENGTH])</div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00098">tao.c:98</a></div></div>
<div class="ttc" id="struct__tao_html_a9825b926ad2a4aa0e6688dc15b2d9a23"><div class="ttname"><a href="struct__tao.html#a9825b926ad2a4aa0e6688dc15b2d9a23">_tao::sem_id</a></div><div class="ttdeci">int sem_id</div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00039">tao.c:39</a></div></div>
<div class="ttc" id="struct__client_html_a13e34ca094fd008b62127d67da11f70f"><div class="ttname"><a href="struct__client.html#a13e34ca094fd008b62127d67da11f70f">_client::interested_resource</a></div><div class="ttdeci">resource interested_resource[MAX_REQUIRED_RESOURCES]</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00028">auctioneer.c:28</a></div></div>
<div class="ttc" id="introduction_8h_html"><div class="ttname"><a href="introduction_8h.html">introduction.h</a></div></div>
<div class="ttc" id="tao_8c_html_a91bf4e29a754f9957ef5586a6d3f7da6"><div class="ttname"><a href="tao_8c.html#a91bf4e29a754f9957ef5586a6d3f7da6">tao_access_semid</a></div><div class="ttdeci">int tao_access_semid</div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00057">tao.c:57</a></div></div>
<div class="ttc" id="config_8h_html_ac91a1136ceadea84c7e339eddd81bd3b"><div class="ttname"><a href="config_8h.html#ac91a1136ceadea84c7e339eddd81bd3b">MAX_REQUIRED_RESOURCES</a></div><div class="ttdeci">#define MAX_REQUIRED_RESOURCES</div><div class="ttdef"><b>Definition:</b> <a href="config_8h_source.html#l00011">config.h:11</a></div></div>
<div class="ttc" id="auctioneer_8c_html_a67b83250f57bba6e1e0529b59eb41152"><div class="ttname"><a href="auctioneer_8c.html#a67b83250f57bba6e1e0529b59eb41152">listen_introductions</a></div><div class="ttdeci">void listen_introductions()</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00146">auctioneer.c:146</a></div></div>
<div class="ttc" id="auctioneer_8c_html_a40a2aa757613197641799da6397899d0"><div class="ttname"><a href="auctioneer_8c.html#a40a2aa757613197641799da6397899d0">client</a></div><div class="ttdeci">struct _client client</div></div>
<div class="ttc" id="resource_8h_html"><div class="ttname"><a href="resource_8h.html">resource.h</a></div></div>
<div class="ttc" id="so__log_8c_html_a0dad24c0c79309a7678f01af58a01ce9"><div class="ttname"><a href="so__log_8c.html#a0dad24c0c79309a7678f01af58a01ce9">so_log</a></div><div class="ttdeci">void so_log(char c)</div><div class="ttdef"><b>Definition:</b> <a href="so__log_8c_source.html#l00011">so_log.c:11</a></div></div>
<div class="ttc" id="auctioneer_8c_html_a7c35ac5305085cf7360645b8d52988b5"><div class="ttname"><a href="auctioneer_8c.html#a7c35ac5305085cf7360645b8d52988b5">semid</a></div><div class="ttdeci">int semid</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00032">auctioneer.c:32</a></div></div>
<div class="ttc" id="resource_8c_html_a01c951e5bb0b3411b90e0e7216976e8e"><div class="ttname"><a href="resource_8c.html#a01c951e5bb0b3411b90e0e7216976e8e">add_resource</a></div><div class="ttdeci">resource * add_resource(resource_list *list, char name[MAX_RES_NAME_LENGTH], int avail, int cost)</div><div class="ttdef"><b>Definition:</b> <a href="resource_8c_source.html#l00035">resource.c:35</a></div></div>
<div class="ttc" id="struct__tao_html_ae14d065f4303ecca126916431adfd475"><div class="ttname"><a href="struct__tao.html#ae14d065f4303ecca126916431adfd475">_tao::name</a></div><div class="ttdeci">char name[MAX_RES_NAME_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00033">tao.c:33</a></div></div>
<div class="ttc" id="struct__tao_html"><div class="ttname"><a href="struct__tao.html">_tao</a></div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00031">tao.c:31</a></div></div>
<div class="ttc" id="auctioneer_8c_html_ae73e6a837794db6e63f23db2d64a8130"><div class="ttname"><a href="auctioneer_8c.html#ae73e6a837794db6e63f23db2d64a8130">msqid</a></div><div class="ttdeci">int msqid</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00031">auctioneer.c:31</a></div></div>
<div class="ttc" id="struct__resource__list_html"><div class="ttname"><a href="struct__resource__list.html">_resource_list</a></div><div class="ttdef"><b>Definition:</b> <a href="resource_8c_source.html#l00021">resource.c:21</a></div></div>
<div class="ttc" id="auctioneer_8c_html_a83706e696f5a5ee8b6d789cf08d64d73"><div class="ttname"><a href="auctioneer_8c.html#a83706e696f5a5ee8b6d789cf08d64d73">gc</a></div><div class="ttdeci">void gc()</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00225">auctioneer.c:225</a></div></div>
<div class="ttc" id="auctioneer_8c_html_a58c76123e51d8f4fd2008f9ff7c19c94"><div class="ttname"><a href="auctioneer_8c.html#a58c76123e51d8f4fd2008f9ff7c19c94">avail_resources</a></div><div class="ttdeci">resource_list * avail_resources</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00035">auctioneer.c:35</a></div></div>
<div class="ttc" id="struct__resource_html"><div class="ttname"><a href="struct__resource.html">_resource</a></div><div class="ttdef"><b>Definition:</b> <a href="resource_8c_source.html#l00013">resource.c:13</a></div></div>
<div class="ttc" id="struct__tao__opening_html_a181eae0ba641491126ff92b6070b15ea"><div class="ttname"><a href="struct__tao__opening.html#a181eae0ba641491126ff92b6070b15ea">_tao_opening::base_bid</a></div><div class="ttdeci">int base_bid</div><div class="ttdef"><b>Definition:</b> <a href="tao__opening_8c_source.html#l00011">tao_opening.c:11</a></div></div>
<div class="ttc" id="auctioneer_8c_html_ae704a472ef9a7fd86089c7e5d0e42091"><div class="ttname"><a href="auctioneer_8c.html#ae704a472ef9a7fd86089c7e5d0e42091">create_taos</a></div><div class="ttdeci">void create_taos()</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00094">auctioneer.c:94</a></div></div>
<div class="ttc" id="struct__resource_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="struct__resource.html#a5ac083a645d964373f022d03df4849c8">_resource::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="resource_8c_source.html#l00014">resource.c:14</a></div></div>
<div class="ttc" id="semaphore_8h_html"><div class="ttname"><a href="semaphore_8h.html">semaphore.h</a></div></div>
<div class="ttc" id="tao_8c_html_a92d83754f090ad184733cffaffabfd00"><div class="ttname"><a href="tao_8c.html#a92d83754f090ad184733cffaffabfd00">init_taos</a></div><div class="ttdeci">void init_taos(int number)</div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00062">tao.c:62</a></div></div>
<div class="ttc" id="struct__tao__opening_html_aa3f836ce5342ead8107a83d39ba3569a"><div class="ttname"><a href="struct__tao__opening.html#aa3f836ce5342ead8107a83d39ba3569a">_tao_opening::mtype</a></div><div class="ttdeci">long int mtype</div><div class="ttdef"><b>Definition:</b> <a href="tao__opening_8c_source.html#l00007">tao_opening.c:7</a></div></div>
<div class="ttc" id="tao_8c_html_afd1663682b4ae526da5d46c1ca8c406b"><div class="ttname"><a href="tao_8c.html#afd1663682b4ae526da5d46c1ca8c406b">taos</a></div><div class="ttdeci">tao ** taos</div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00055">tao.c:55</a></div></div>
<div class="ttc" id="auctioneer_8c_html_ab709799d4ee7e6491c7ce8c68b22fb1d"><div class="ttname"><a href="auctioneer_8c.html#ab709799d4ee7e6491c7ce8c68b22fb1d">start_auction</a></div><div class="ttdeci">void start_auction()</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00167">auctioneer.c:167</a></div></div>
<div class="ttc" id="auctioneer_8c_html_ad2504fc13f04edf582316950ab45f86d"><div class="ttname"><a href="auctioneer_8c.html#ad2504fc13f04edf582316950ab45f86d">ipc_gc</a></div><div class="ttdeci">void ipc_gc()</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00202">auctioneer.c:202</a></div></div>
<div class="ttc" id="struct__resource__list_html_a7cc5a47e95fadc9eaf872a42d02cf90c"><div class="ttname"><a href="struct__resource__list.html#a7cc5a47e95fadc9eaf872a42d02cf90c">_resource_list::list</a></div><div class="ttdeci">resource * list</div><div class="ttdef"><b>Definition:</b> <a href="resource_8c_source.html#l00022">resource.c:22</a></div></div>
<div class="ttc" id="auctioneer_8c_html_a9c994aa4c2f6aa17d2fbd3dff2506605"><div class="ttname"><a href="auctioneer_8c.html#a9c994aa4c2f6aa17d2fbd3dff2506605">alarm_handler</a></div><div class="ttdeci">void alarm_handler()</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00110">auctioneer.c:110</a></div></div>
<div class="ttc" id="tao_8h_html"><div class="ttname"><a href="tao_8h.html">tao.h</a></div></div>
<div class="ttc" id="struct__client_html"><div class="ttname"><a href="struct__client.html">_client</a></div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00026">auctioneer.c:26</a></div></div>
<div class="ttc" id="auctioneer_8c_html_a763ff0ef94dcef0ff182afe34802ca84"><div class="ttname"><a href="auctioneer_8c.html#a763ff0ef94dcef0ff182afe34802ca84">canexit</a></div><div class="ttdeci">int canexit</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00039">auctioneer.c:39</a></div></div>
<div class="ttc" id="struct__tao__opening_html"><div class="ttname"><a href="struct__tao__opening.html">_tao_opening</a></div><div class="ttdef"><b>Definition:</b> <a href="tao__opening_8c_source.html#l00006">tao_opening.c:6</a></div></div>
<div class="ttc" id="tao__opening_8h_html"><div class="ttname"><a href="tao__opening_8h.html">tao_opening.h</a></div></div>
<div class="ttc" id="simple__message_8h_html"><div class="ttname"><a href="simple__message_8h.html">simple_message.h</a></div></div>
<div class="ttc" id="auctioneer_8c_html_a5d47b1fd9e013a1edc6686004379fcc1"><div class="ttname"><a href="auctioneer_8c.html#a5d47b1fd9e013a1edc6686004379fcc1">load_resources</a></div><div class="ttdeci">void load_resources()</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00042">auctioneer.c:42</a></div></div>
<div class="ttc" id="config_8h_html_a0a8f91f93d75a07f0ae45077db45b3eb"><div class="ttname"><a href="config_8h.html#a0a8f91f93d75a07f0ae45077db45b3eb">MAX_CLIENTS</a></div><div class="ttdeci">#define MAX_CLIENTS</div><div class="ttdef"><b>Definition:</b> <a href="config_8h_source.html#l00004">config.h:4</a></div></div>
<div class="ttc" id="config_8h_html_aaa7bd013b2ed70755bc3253ecf704e46"><div class="ttname"><a href="config_8h.html#aaa7bd013b2ed70755bc3253ecf704e46">MAX_RES_NAME_LENGTH</a></div><div class="ttdeci">#define MAX_RES_NAME_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="config_8h_source.html#l00010">config.h:10</a></div></div>
<div class="ttc" id="struct__client_html_a87f9cbda197595c49572e21179cbb96b"><div class="ttname"><a href="struct__client.html#a87f9cbda197595c49572e21179cbb96b">_client::client_pid</a></div><div class="ttdeci">pid_t client_pid</div><div class="ttdef"><b>Definition:</b> <a href="auctioneer_8c_source.html#l00027">auctioneer.c:27</a></div></div>
<div class="ttc" id="auctioneer_8c_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="auctioneer_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="struct__tao_html_a181eae0ba641491126ff92b6070b15ea"><div class="ttname"><a href="struct__tao.html#a181eae0ba641491126ff92b6070b15ea">_tao::base_bid</a></div><div class="ttdeci">int base_bid</div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00037">tao.c:37</a></div></div>
<div class="ttc" id="struct__tao__opening_html_ac8807d215d2ee6d9779d76aeb1147430"><div class="ttname"><a href="struct__tao__opening.html#ac8807d215d2ee6d9779d76aeb1147430">_tao_opening::shmid</a></div><div class="ttdeci">int shmid</div><div class="ttdef"><b>Definition:</b> <a href="tao__opening_8c_source.html#l00009">tao_opening.c:9</a></div></div>
<div class="ttc" id="semaphore_8c_html_aaa6f4dbc62d7b05e6e192a029b741843"><div class="ttname"><a href="semaphore_8c.html#aaa6f4dbc62d7b05e6e192a029b741843">sem_v</a></div><div class="ttdeci">int sem_v(int semid, int semnum)</div><div class="ttdef"><b>Definition:</b> <a href="semaphore_8c_source.html#l00011">semaphore.c:11</a></div></div>
<div class="ttc" id="tao__opening_8c_html_a6177d7ad4ff7a1270fe6dadd9a976462"><div class="ttname"><a href="tao__opening_8c.html#a6177d7ad4ff7a1270fe6dadd9a976462">TAO_OPENING_MTYPE</a></div><div class="ttdeci">#define TAO_OPENING_MTYPE</div><div class="ttdef"><b>Definition:</b> <a href="tao__opening_8c_source.html#l00004">tao_opening.c:4</a></div></div>
<div class="ttc" id="struct__tao_html_a0e18300528e54d436a8bce8f01238424"><div class="ttname"><a href="struct__tao.html#a0e18300528e54d436a8bce8f01238424">_tao::shm_id</a></div><div class="ttdeci">int shm_id</div><div class="ttdef"><b>Definition:</b> <a href="tao_8c_source.html#l00038">tao.c:38</a></div></div>
<div class="ttc" id="introduction_8c_html_a46caf069efbe8c4da1ee4ef5d08032c2"><div class="ttname"><a href="introduction_8c.html#a46caf069efbe8c4da1ee4ef5d08032c2">INTRODUCTION_MTYPE</a></div><div class="ttdeci">#define INTRODUCTION_MTYPE</div><div class="ttdef"><b>Definition:</b> <a href="introduction_8c_source.html#l00004">introduction.c:4</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="auctioneer_8c.html">auctioneer.c</a></li>
    <li class="footer">Generated on Tue Dec 16 2014 13:30:00 for Progetto SO by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
